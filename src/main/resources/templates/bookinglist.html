<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--  STYLESHEET LINK TAGS -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{../css/style.css}" href="../css/style.css"/>
    <!-- NAV -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{../css/bootstrap.min.css}"
          href="../css/bootstrap.min.css"/> <!-- NAV -->

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <!-- Vanilla Datepicker CSS -->
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.1.4/dist/css/datepicker.min.css'>


    <title>Zensational</title>
    <link rel="icon" type="image/x-icon" href="../imgs/lotus.png">
</head>


<body>
<div th:replace="fragments/header :: header">Header</div>
<main>
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <div class="table-client">
                    <h2>Bookings</h2>
                    <form>
                        <input type="submit" value="search" class="buttonLook filterButton"></input>
                        <div class="marginClass">
                        <label for="keyword" class="filtername"></label>
                        <input type="text" id="keyword" name="keyword" class="form-control rounded"
                               placeholder="Search on name" aria-label="Search"
                               aria-describedby="search-addon"/>
                        <span class="input-group-text border-0" id="keyword-addon"><i class="fas fa-search"></i></span>
                        </div>

                        <!--                        wa er achter staat = value-->
                        <div class="marginClass">

                        <label for="roomName" class="filtername"></label>
                        <input type="text" id="roomName" name="roomName" class="form-control rounded"
                               placeholder="Search on room" aria-label="Search"
                               aria-describedby="postcode-addon"/>
                        <span class="input-group-text border-0" id="roomName-addon"><i class="fas fa-search"></i></span>
                        </div>

                        <div class="marginClass">
                            <div class="input-group mb-4">
                                <i class="bi bi-calendar-date input-group-text"></i>
                                <label for="date" class="filtername"></label>
                                <input type="text"id="date" name="date" class="datepicker_input form-control"
                                       placeholder="Choose your date" >
                            </div>
                        </div>


                    </form>
                </div>
            </div>
            <div class="col-md-6">
                <div th:each="booking: ${allbookings}">

                    <a class="buttonLook mediumButton" th:href="@{|/booking/${booking.getId()}|}">
                        <span th:text="${booking.getDate()}"></span>
                        <div th:text="${booking.getRoom().getName()}"></div>
                        <div th:text="|${booking.getClient().getName()} ${booking.getClient().getLastName()}|"></div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- Bootstrap 5 JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>

<!-- Vanilla Datepicker JS -->
<script src='https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.1.4/dist/js/datepicker-full.min.js'></script>
<script>
    const getDatePickerTitle = elem => {
        // From the label or the aria-label
        const label = elem.nextElementSibling;
        let titleText = '';
        if (label && label.tagName === 'LABEL') {
            titleText = label.textContent;
        } else {
            titleText = elem.getAttribute('aria-label') || '';
        }
        return titleText;
    }

    const elems = document.querySelectorAll('.datepicker_input');
    for (const elem of elems) {
        const datepicker = new Datepicker(elem, {
            'format': 'yyyy-mm-dd', // UK format
            title: getDatePickerTitle(elem)
        });
    }
</script>

</body>
</html>